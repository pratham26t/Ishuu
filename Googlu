import streamlit as st
import random

st.set_page_config(
    page_title="Be My Valentine ðŸ’–",
    page_icon="ðŸ’˜",
    layout="centered"
)

# Session state
if "yes_clicked" not in st.session_state:
    st.session_state.yes_clicked = False

if "no_position" not in st.session_state:
    st.session_state.no_position = random.randint(1, 3)

# Styling
st.markdown("""
<style>
.big-yes button {
    font-size: 28px !important;
    padding: 20px 40px !important;
    background-color: #ff3366 !important;
    color: white !important;
    border-radius: 15px !important;
}

.small-no button {
    font-size: 12px !important;
    padding: 5px 10px !important;
    background-color: #999 !important;
    color: white !important;
    border-radius: 8px !important;
}
</style>
""", unsafe_allow_html=True)

# Main content
if not st.session_state.yes_clicked:
    st.markdown(
        "<h1 style='text-align:center;color:#ff0066;'>âœ¨ Isha âœ¨</h1>",
        unsafe_allow_html=True
    )

    st.markdown(
        "<h2 style='text-align:center;'>Will you be my Valentine? ðŸ’–</h2>",
        unsafe_allow_html=True
    )

    cols = st.columns(3)

    # YES button (always center)
    with cols[1]:
        st.markdown('<div class="big-yes">', unsafe_allow_html=True)
        if st.button("YES ðŸ’•"):
            st.session_state.yes_clicked = True
        st.markdown('</div>', unsafe_allow_html=True)

    # NO button (moves)
    with cols[st.session_state.no_position]:
        st.markdown('<div class="small-no">', unsafe_allow_html=True)
        if st.button("no"):
            st.session_state.no_position = random.randint(0, 2)
        st.markdown('</div>', unsafe_allow_html=True)

else:
    st.balloons()
    st.markdown(
        "<h1 style='text-align:center;color:#ff0066;'>YAYYYYY ðŸ¥°ðŸ’ž</h1>",
        unsafe_allow_html=True
    )

    st.image(
        "https://media.giphy.com/media/l4FGpPki5v2Bcd6Ss/giphy.gif",
        use_container_width=True
    )

    st.markdown(
        "<h3 style='text-align:center;'>Best Valentine Ever ðŸ’˜</h3>",
        unsafe_allow_html=True
    )
